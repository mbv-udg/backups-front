<div class="container">
    <h1>Recover Database</h1>
    <p>Click the button on the right to recover the specific database backup.</p>

    <mat-table [dataSource]="dataSource" class="mat-elevation-z4">
        <ng-container matColumnDef="date">
            <mat-header-cell *matHeaderCellDef>Date (yyyy-MM-dd hh-mm)</mat-header-cell>
            <mat-cell *matCellDef="let element">{{element.name}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>
                <mat-spinner *ngIf="this.loading" [diameter]="30"></mat-spinner> 
            </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <button class="no-button" (click)="recoverDb(element.code)" [disabled]="this.loading">
                    <mat-icon>restart_alt</mat-icon>
                </button>
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayColumns"></mat-header-row>
        <mat-row *matRowDef="let row; let index=i; columns: displayColumns;"></mat-row>
    </mat-table>
</div>
